<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">

    <title>GDG-TC 2014: Dagger - Not as Scary as you think</title>

    <!-- Fill These Out -->
    <meta name="description" content="Presentation Name Here">
    <meta name="author" content="Put Your Name Here">

    <meta name="apple-mobile-web-app-capable" content="yes"/>
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"/>

    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <link rel="stylesheet" href="lib/reveal.js/css/reveal.min.css">
    <!-- Change this to the theme of your choice -->
    <link rel="stylesheet" href="css/theme/nerdery.css" id="default">
    <link rel="stylesheet" href="css/main.css">

    <!-- For syntax highlighting -->
    <link rel="stylesheet" href="lib/reveal.js/lib/css/zenburn.css">

    <!-- If the query includes 'print-pdf', use the PDF print sheet -->
    <script>
        document.write('<link rel="stylesheet" href="lib/reveal.js/css/print/' + ( window.location.search.match(/print-pdf/gi) ? 'pdf' : 'paper' ) + '.css" type="text/css" media="print">');
    </script>

    <!--[if lt IE 9]>
    <script src="lib/reveal.js/lib/js/html5shiv.js"></script>
    <![endif]-->
</head>
<body>
<div class="reveal">
    <!-- Any section element inside of this container is displayed as a slide -->
    <div class="slides">
        <!-- BEGIN -->
        <!-- INTRO -->
        <section>
            <img src="images/logo.png" alt="Nerdery Logo"/>
        </section>
        <section>
            <h2>Andrew & Patrick Present</h2>

            <h1>
                <img src="images/dagger-medium.png" alt="Dagger Icon">
                Dagger
                <img src="images/dagger-medium.png" alt="Dagger Icon">
            </h1>

            <h3>Not as Scary as you think</h3>
        </section>
        <section>
            <h1>Who we are</h1>
            <div style="float:left; width:50%;">
                <img src="images/vx.png" alt="Patrick" style="width: 450px" /><br>
                Patrick
            </div>
            <div style="float:left; width:50%;">
                <img src="images/rz.png" alt="Andrew" style="width: 450px" />
                Andrew
            </div>
            <aside class="notes">
                Talk about who we are and what we do
            </aside>
        </section>
        <section>
            <h2>Presentation Overview</h2>
            <ol>
                <li>Dependency Injection in Android</li>
                <li>Intro to Dependency Injection</li>
                <li>How it works, a demo</li>
            </ol>
        </section>
        <!-- INTRO -->
        <!-- DI IN ANDROID -->
        <section>
            <h1>About You?</h1>
            <ol>
                <li>Devleopers?</li>
                <li>Familiar with Dependency Injection?</li>
                <li>Familiar with Guice?</li>
            </ol>
        </section>
        <section>
            <h1>History</h1>
            <h2>Guice, Hibernate, Etc where dagger came from</h2>
        </section>
        <section>
            <h2>Contributors</h2>
            <ol>
                <li>Jake Wharton</li>
                <li>Christian Gruber</li>
                <li>Jesse Wilson</li>
            </ol>
        </section>
        <section>
            <h2>Dependency Injection</h2>
            <ol>
                <li>Design Pattern</li>
                <li>Keeps Concrete Elements Decoupled</li>
                <li>Replaces Factory, Loader, and Wrapper Classes</li>
                <li>Doesn't Matter for Hello World</li>
            </ol>
        </section>
        <section>
            <h2>Why Dependency Injection</h2>
            <ol>
                <li>Reusability</li>
                <li>Testability</li>
                <li>Predictability</li>
                <li>Clarity for onboarding new developers</li>
            </ol>
        </section>
        <section>
            <section>
                <h1>Why Dagger</h1>
                <h2>speed and stuff</h2>
            </section>
            <section>
                <h2>Order of Events</h2>
                <ol>
                    <li>Other stuff (like Turing, & Xerox PARC, & stuff)</li>
                    <li>Spring</li>
                    <li>Guice</li>
                    <li>Dagger</li>
                </ol>
            </section>
            <section>
                <h2>Android is different</h2>
                <ol>
                    <li>Battery Life</li>
                    <li>Diversity of devices</li>
                    <li>Frequency of startup</li>
                </ol>
            </section>
            <section>
                <h2>"speed and stuff" = </h2>
                <ol>
                    <li>Speed of startup</li>
                    <li>~5 -> ~2 seconds on an old device</li>
                    <li>Speed of production ramp-up, testing, configuration, etc.</li>
                </ol>
            </section>
            <section>
                <h2>Guice vs. Dagger</h2>
                <ol>
                    <li>Guice designed for data centers</li>
                    <li>Dagger designed for structural simplicity</li>
                    <li>Much less metaprogramming</li>
                </ol>
            </section>
        </section>
        <section>
            <section>
                <img src="images/neck_beard.jpg" alt="neck beard"/>
            </section>
            <section>
                <h3>Important Question: "how much do you want your neckbeard to grow over your black t-shirt?"</h3>
                    <ol>
                        <li>"No black T-shirts necessary"</li>
                        <li>Dagger can be powerful and complex</li>
                        <li>U2020</li>
                        <li>Lazy Loading</li>
                        <li>Not what we're here for today</li>
                    </ol>
            </section>
            <section>
                <h2>Buuuuut, this is cool</h2>
                <ol>
                    <li>DAGger</li>
                    <li>Directed Acyclic Graph</li>
                    <li>Ensures you can't depend on yourself, even transitively</li>
                    <li>Dagger can even generate a DAG for your project (GraphViz)</li>
                </ol>
            </section>
            <section>
                <h2>Because Math</h2>
                <img src="images/directed_acyclic_graph.png" alt="directed acyclic graph"/>
            </section>
        </section>
        <section>
            <h2>Simple Syntax</h2>
            <ol>
                <li>@Module</li>
                <li>@Provides</li>
                <li>@Inject</li>
                <li>That's pretty much it.</li>
                <li>No xml, config files, etc.</li>
                <li>I'll let Andrew explain how it works.</li>
            </ol>
        </section>
        <!-- END DI IN ANDROID -->
        <!-- INTRO TO DI -->
        <section>
            <h2>Dependency Injection</h2>
            <img src="images/ninjas.jpg" alt="ninjas"/>

            <h3>Intro</h3>
            <aside class="notes">
                How many people know what dependency injection is / and currently use it?
                Ninjas, ninject, .nets
            </aside>
        </section>
        <section>
            <section>
            <h2>An Example</h2>
<!-- KEEP THIS FORMATTING IT APPARENTLY MATTERS -->
<pre><code data-trim contenteditable>
public class Sword {
    public void hit(String target) {
        Log.d(String.format("Sword chopped %s in half", target));
    }
}
</code></pre>
        </section>
        <section>
<pre><code data-trim contenteditable>
public class Ninja {
    private final Sword mSword;
    public Ninja() {
        mSword = new Sword;
    }

    public void attack(String target) {
        mSword.hit(target);
    }
}
</code></pre>
        </section>
        <section>
<pre><code data-trim contenteditable>
/* Inside of a Activity.onCreate method... */
public void onCreate() {
    Ninja ninja = new Ninja();
    ninja.attack("zombie");
}
</code></pre>
        <p>Output: Sword chopped zombie in half</p>
        <aside class="notes">
            <ul>
                <li>As you probably expected chopped zombie in half, but what if we wanted to switch sword with something else?</li>
                <li>This is a bad example of writing code.</li>
            </ul>
        </aside>
        </section>
        </section>
        <section>
            <section>
<pre><code data-trim contenteditable>
public interface Weapon {
    public void hit(String target);
}

public class Sword implements Weapon {
    @Override
    public void hit(String target) {
        Log.d(String.format("Sword chopped %s in half", target));
    }
}
</code></pre>
            </section>
            <section>
<pre><code data-trim contenteditable>
public class Ninja {
    private final Weapon mWeapon;

    public Ninja(Weapon weapon) {
        mWeapon = weapon;
    }

    public void attack(String target) {
        mWeapon.hit(target);
    }
}
</code></pre>
            </section>
            <section>
<pre><code data-trim contenteditable>
/* Inside of a Activity.onCreate method... */
public void onCreate() {
    Weapon weapon = new Sword();
    Ninja ninja = new Ninja(weapon);
    ninja.attack("zombie");
}
</code></pre>
                <p>Output: Sword chopped zombie in half</p>
                <aside class="notes">
                    <ul>
                        <li>Output is the same but now if we create a new weapon we can switch it out without having an issue</li>
                        <li>Show swapping out with Shuriken</li>
                    </ul>
                </aside>
            </section>
            <section>
<pre><code data-trim contenteditable>
public class Shuriken implements Weapon {
    @Override
    public void hit(String target) {
        Log.d(String.format("Shuriken stuck in %s's belly", target));
    }
}
</code></pre>
            </section>
        </section>
        <section>
            <h2>What it looks like with Dagger</h2>
<pre><code data-trim contenteditable>
@Inject
Ninja mNinja

@Override
public void onCreate() {
    mNinja.attack("zombie");
}
</code></pre>
            <aside class="notes">
                How does this work? Well it's all wired up in dagger.  It can do the work for you.
                So now you don't have to go through and wire all those pieces together.  It completly removed my need to
                care about the Ninja.  I just say I want one so give me one.  We will go into details more about how it
                works later but lets first talk a little more about dagger.
            </aside>
        </section>
        <!-- INTRO TO DI -->
        <!-- HOW TO USE DAGGER -->
        <section>
            <h2>
                <img src="images/dagger-small.png" alt="Dagger Icon">
                Pieces
                <img src="images/dagger-small.png" alt="Dagger Icon">
            </h2>
            <h1>Made up of 3</h1>
            <ol>
                <li>Declare Dependencies</li>
                <li>Satisfy Dependencies</li>
                <li>Build the Graph</li>
            </ol>
            <aside class="notes">
                Dagger is simple, after you get use to it.  My goal is for you to come out of this presentation
                knowing how to use it.  I spent a lot of time my first time using it and I don't want that to be your
                experience.
            </aside>
        </section>
        <section>
            <h2>1: Declare Dependencies</h2>
<pre><code data-trim contenteditable>
/** MainActivity.java */
@Inject
Ninja mNinja

@Override
public void onCreate() {
    mNinja.attack("pirate");
}
</code></pre>
        </section>
        <section>
            <h2>2: Satisfy Dependencies</h2>
<pre><code data-trim contenteditable>
/** AndroidModule.java */
@Provides
Weapon provideSword() {
    return new Sword();
}
@Provides
Ninja provideNinja(Weapon weapon) {
    return new Ninja(weapon);
}
</code></pre>
        </section>
        <section>
            <h2>3: Build the Graph</h2>
<pre><code data-trim contenteditable>
/** Application.java */
ObjectGraph.create(AndroidModule.class);
</code></pre>
        </section>
        <section>
            <h1>Demo Time!</h1>
            <aside class="notes">Talk about each piece and how it's made up</aside>
        </section>
        <section>
            <h1>Questions</h1>
        </section>
        <!-- END -->
        <section>
            <img src="images/logo.png" alt="Nerdery Logo"/>
        </section>
    </div>

    <script src="lib/reveal.js/lib/js/head.min.js"></script>
    <script src="lib/reveal.js/js/reveal.min.js"></script>

    <script>
        Reveal.initialize({
            controls: true,
            progress: true,
            history: true,
            center: true,

            theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
            transition: Reveal.getQueryHash().transition || 'default', // default/cube/page/concave/zoom/linear/fade/none

            // Optional libraries used to extend on reveal.js
            dependencies: [
                { src: 'lib/reveal.js/lib/js/classList.js', condition: function () { return !document.body.classList; } },
                { src: 'lib/reveal.js/plugin/markdown/marked.js', condition: function () { return !!document.querySelector('[data-markdown]'); }},
                { src: 'lib/reveal.js/plugin/markdown/markdown.js', condition: function () { return !!document.querySelector('[data-markdown]'); }},
                { src: 'lib/reveal.js/plugin/highlight/highlight.js', async: true, callback: function () { hljs.initHighlightingOnLoad(); }},
                { src: 'lib/reveal.js/plugin/zoom-js/zoom.js', async: true, condition: function () { return !!document.body.classList; }},
                { src: 'lib/reveal.js/plugin/notes/notes.js', async: true, condition: function () { return !!document.body.classList; }},
                { src: 'lib/reveal.js/plugin/remotes/remotes.js', async: true, condition: function () { return !!document.body.classList; }}
            ]
        });

    </script>
</div>
</body>
</html>
